## NYC parking dataset 
### Problem Statment 
  - Analyze Open data published by Newyork on the Parking Violatiions by Time of the year, by Police officer, by vehicle type
  - Use additional data sets needed to find the total amount generated by violations
  - Find out how much fines are recovered by Traffic police

### Data Sets <br>
 __Primary Data__
  - This is a collection of Parking Violations Issued Fiscal Year 2016. 
  - This contains 43 fields, with 10.8 Million rows
  - Its a Comma seperated file
> source: Kaggle
[Download link](https://data.cityofnewyork.us/City-Government/Parking-Violations-Issued-Fiscal-Year-2017/2bnn-yakx)  
 
 __lookup Data__
  - Took the volation cd and the price charged for the respective violations
> source: City of Newyork Website  
 
 __Input Fields__ 
  - Below are the fields present in the file 

```
Summons Number 
Plate ID 
Registration State 
Plate Type 
Issue Date 
Violation Code 
Vehicle Body Type 
Vehicle Make 
Issuing Agency 
Street Code1 
Street Code2 
Street Code3 
Vehicle Expiration Date 
Violation Location 
Violation Precinct 
Issuer Precinct 
Issuer Code 
Issuer Command 
Issuer Squad 
Violation Time 
Time First Observed 
Violation County 
Violation In Front Of Or Opposite 
House Number 
Street Name 
Intersecting Street 
Date First Observed 
Law Section 
Sub Division 
Violation Legal Code 
Days Parking In Effect  
From Hours In Effect 
To Hours In Effect 
Vehicle Color 
Unregistered Vehicle? 
Vehicle Year 
Meter Number 
Feet From Curb 
Violation Post Code 
Violation Description 
No Standing or Stopping Violation 
Hydrant Violation 
Double Parking Violation 
```

__Project Description__
  - uploaded source data into AWS s3 and data for violation codes
  - Used EMR machines with spark installed (m5.xlarge) 
  - Divided data across Time, Violation, Vehicle, Issuer agency as Dimension Tables 
  - populated fact table with location, details of the violation and penalty $ 

__Star Schema Data Model__
![ER Model](NYCData_ER-model.png)


__Instructions__
  [initial load spark script](inital_load.py) 
  - Populates Dim tables and fact tables as initial process
  - used as a Seeding process to populate SK values
  - Used just of once 

  [Incremental load spark script](incremental_load.py)
  - Populates Dim tables and fact tables as incremental load 
  - uses SK values generated by the intial load script 
  - Used for recurring run or scheduled run

